# Lambda表达式

## lambda的引入

### 谓词

- 谓词是一个可调用的表达式，其返回结果是可以用作条件的值
- 分类

	- 一元谓词

		- 只能接受一个参数

	- 二元谓词

		- 只能接受两个参数

- 为了在使用算法时能操作更多的参数，引入lambda

## 介绍

### 一个lambda表达式表示一个可调用的代码单元，可将其理解为一个未命名的内联函数

### [capture list] (parameter list) -> return type { function body };

- 捕获列表

	- 可为空，表示不使用它所在函数中的任何局部变量
	- 指明要使用的变量，没被捕获的变量不可使用
	- 只对lambda所在函数中定义的非static变量使用捕获列表，一个lambda可以直接使用定义在当前函数之外的名字

- 参数列表

	- 形参予实参必须一一对应，不能有默认参数
	- 为了适配谓词，参数不超过两个

### 当向一个函数传递一个lambda时，同时定义了一个新类型和该类型的一个对象

## lambda捕获

### 值捕获

- 被捕获的变量的值是在lambda创建时被拷贝，而不是调用时
- 创建之后的修改不会影响lambda内对应值

### 引用捕获

- 当我们在lambda中使用此变量时，实际上使用的是引用所绑定的对象
- 采用引用捕获一个变量，要确保这个对象在lambda执行时是存在的
- 一般来讲，应该尽量减少捕获的数据量，可能的话应尽量避免捕获指针或引用

### 隐式捕获

- 可以让编译器根据lambda中的代码来推断我们要使用哪些变量
- &告诉编译器采用捕获引用方式，=则表示采用值捕获方式
- 当我们混用隐式捕获和显示捕获时，捕获列表中的第一个元素必须是一个&或=

### 可变lambda

- 如果我们希望能改变一个被捕获的变量的值，就必须在一个参数列表首加上关键字mutable，因此我们可以省略参数列表
- auto f = [v1] () mutable { return ++v1; };

## 指定lambda返回

### 如果一个lambda体包含return之外的任何语句，则编译器假定此lambda返回void

### -> return type

## 分支主题 5

## 分支主题 6

